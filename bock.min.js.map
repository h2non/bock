{"version":3,"sources":["bock.js"],"names":["e","exports","module","define","amd","f","window","global","self","bock","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_","store","Proxy","Bock","service","url","options","this","id","uuid","config","merge","defaults","normalizeURL","location","href","method","headers","crendetials","persist","prototype","Object","create","get","path","post","body","put","delete","patch","head","params","auth","username","password","times","replyHeaders","replyWithHeaders","responseHeaders","replyBody","replyWithBody","responseBody","reply","replyWith","responseCode","forward","delay","ms","append","catch","onFailure","replace","ex","./proxy","./store","./utils",2,"hasServiceWorker","navigator","resolveServiceWorker","VERSION","workerPath","isControllable","isEnabled","serviceWorker","controller","stop","unregister","cleanAll","flush","entries","all","./bock","./service",3,"withMethod","proxyMethod","toUpperCase","withHeaders","proxyHeaders","withBody","proxyBody","credentials","type","proxy","proxyTo",4,"serviceInstance","serviceWorkerInstance","serviceFactory","Service","getServiceWorker","sendWorkerMessage","topic","remove","Promise","resolve","data","reject","then","registration","client","getServiceWorkerClient","postMessage","bind","installing","active","register","scope","getScriptScope","test","origin","URL","pathname","split","slice","join",5,"buf","push","item","splice","indexOf","isString","map","mock",6,"target","origins","Array","arguments","forEach","prop","random","Math","toString"],"mappings":";CAAC,SAASA,GAAG,GAAG,gBAAiBC,UAAS,mBAAoBC,QAAOA,OAAOD,QAAQD,QAAS,IAAG,kBAAmBG,SAAQA,OAAOC,IAAID,UAAUH,OAAO,CAAC,GAAIK,EAAE,oBAAoBC,QAAOD,EAAEC,OAAO,mBAAoBC,QAAOF,EAAEE,OAAO,mBAAoBC,QAAOH,EAAEG,MAAMH,EAAEI,KAAKT,MAAM,WAAW,GAAIG,GAAOD,EAAOD,CAAQ,OAAO,SAAUD,GAAEU,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,SAASC,UAAS,YAAYA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAG,EAAG,IAAGI,EAAE,MAAOA,GAAEJ,GAAG,EAAG,IAAIT,GAAE,GAAIc,OAAM,uBAAuBL,EAAE,IAAK,MAAMT,GAAEe,KAAK,mBAAmBf,EAAE,GAAIgB,GAAEV,EAAEG,IAAIb,WAAYS,GAAEI,GAAG,GAAGQ,KAAKD,EAAEpB,QAAQ,SAASD,GAAG,GAAIW,GAAED,EAAEI,GAAG,GAAGd,EAAG,OAAOa,GAAEF,EAAEA,EAAEX,IAAIqB,EAAEA,EAAEpB,QAAQD,EAAEU,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGb,QAAQ,GAAIiB,SAASD,UAAS,YAAYA,OAAQ,KAAI,GAAIH,GAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKW,GAAG,SAASP,EAAQf,EAAOD,GACzxB,GAAIwB,GAAIR,EAAQ,UAChB,IAAIS,GAAQT,EAAQ,UACpB,IAAIU,GAAQV,EAAQ,UAEpBf,GAAOD,QAAU2B,CAEjB,SAASA,GAAKC,EAASC,EAAKC,GAC1BC,KAAKC,GAAKR,EAAES,MACZF,MAAKH,QAAUA,CACfG,MAAKG,OAASV,EAAEW,SAAUR,EAAKS,UAAYP,IAAKQ,EAAaR,IAAQC,GAGvEH,EAAKS,UACHP,IAAKS,SAASC,KACdC,OAAQ,MACRC,QAAS,KACTC,YAAa,OACbC,QAAS,KAGXhB,GAAKiB,UAAYC,OAAOC,OAAOpB,EAAMkB,UAErCjB,GAAKiB,UAAUG,IAAM,SAAUC,GAC7BjB,KAAKG,OAAOM,OAAS,KACrBT,MAAKG,OAAOL,KAAOmB,CACnB,OAAOjB,MAGTJ,GAAKiB,UAAUK,KAAO,SAAUD,EAAME,GACpCnB,KAAKG,OAAOM,OAAS,MACrBT,MAAKG,OAAOL,KAAOmB,CACnB,OAAOjB,MAGTJ,GAAKiB,UAAUO,IAAM,SAAUH,EAAME,GACnCnB,KAAKG,OAAOM,OAAS,KACrBT,MAAKG,OAAOL,KAAOmB,CACnB,OAAOjB,MAGTJ,GAAKiB,UAAUQ,OAAS,SAAUJ,EAAME,GACtCnB,KAAKG,OAAOM,OAAS,QACrBT,MAAKG,OAAOL,KAAOmB,CACnB,OAAOjB,MAGTJ,GAAKiB,UAAUS,MAAQ,SAAUL,EAAME,GACrCnB,KAAKG,OAAOM,OAAS,OACrBT,MAAKG,OAAOL,KAAOmB,CACnB,OAAOjB,MAGTJ,GAAKiB,UAAUU,KAAO,SAAUN,EAAME,GACpCnB,KAAKG,OAAOM,OAAS,MACrBT,MAAKG,OAAOL,KAAOmB,CACnB,OAAOjB,MAGTJ,GAAKiB,UAAUH,QAAU,SAAUA,GACjCV,KAAKG,OAAOO,QAAUA,CACtB,OAAOV,MAGTJ,GAAKiB,UAAUW,OAAS,SAAUA,GAChCxB,KAAKG,OAAOqB,OAASA,CACrB,OAAOxB,MAGTJ,GAAKiB,UAAUY,KAAO,SAAUC,EAAUC,GACxC3B,KAAKG,OAAOuB,SAAWA,CACvB1B,MAAKG,OAAOwB,SAAWA,CACvB,OAAO3B,MAGTJ,GAAKiB,UAAUe,MAAQ,SAAUA,GAC/B5B,KAAKG,OAAOyB,MAAQA,CACpB5B,MAAKG,OAAOS,QAAU,KACtB,OAAOZ,MAGTJ,GAAKiB,UAAUM,KAAO,SAAUA,GAC9BnB,KAAKG,OAAOgB,KAAOA,CACnB,OAAOnB,MAGTJ,GAAKiB,UAAUgB,aACfjC,EAAKiB,UAAUiB,iBAAmB,SAAUpB,GAC1CV,KAAKG,OAAO4B,gBAAkBrB,CAC9B,OAAOV,MAGTJ,GAAKiB,UAAUmB,UACfpC,EAAKiB,UAAUoB,cAAgB,SAAUd,GACvCnB,KAAKG,OAAO+B,aAAef,CAC3B,OAAOnB,MAGTJ,GAAKiB,UAAUsB,MACfvC,EAAKiB,UAAUuB,UAAY,SAAUhD,EAAM+B,EAAMT,GAC/CV,KAAKG,OAAOkC,aAAejD,GAAQ,KAAO,IAAMA,CAChD,IAAI+B,EAAM,CACRnB,KAAKG,OAAO+B,aAAef,EAE7B,GAAIT,EAAS,CACXV,KAAKG,OAAO4B,gBAAkBrB,EAEhC,MAAOV,MAAKsC,UAGd1C,GAAKiB,UAAU0B,MAAQ,SAAUC,GAC/BxC,KAAKG,OAAOoC,MAAQC,CACpB,OAAOxC,MAGTJ,GAAKiB,UAAUyB,QAAU,WACvB5C,EAAM+C,OAAOzC,KACb,OAAOA,MAAKH,QAAQ4C,OAAOzC,KAAKC,GAAID,KAAKG,QAAQuC,MAAMC,GAGzD,SAASrC,GAAaR,GACpB,MAAOA,GAAI8C,QAAQ,gBAAiB,KAGtC,QAASD,GAAUE,GACjB,KAAMA,MAGLC,UAAU,EAAEC,UAAU,EAAEC,UAAU,IAAIC,GAAG,SAAShE,EAAQf,EAAOD,GACpE,GAAI2B,GAAOX,EAAQ,SACnB,IAAIS,GAAQT,EAAQ,UACpB,IAAIY,GAAUZ,EAAQ,YACtB,IAAImB,GAAQnB,EAAQ,WAAWmB,KAC/B,IAAI8C,GAAmB,iBAAmBC,UAE1CjF,GAAOD,QAAUQ,CAEjB,SAASA,GAAKqB,EAAKC,GACjB,GAAIF,GAAUuD,EAAqBrD,EACnC,OAAO,IAAIH,GAAKC,EAASC,EAAKC,GAGhCtB,EAAK4E,QAAU,cACf5E,GAAK6E,WAAa,iBAElB7E,GAAK8E,eAAiB9E,EAAK+E,UAAY,WACrC,MAAOL,WAAUM,cAAcC,YAAc,KAG/CjF,GAAKkF,KAAO,WACV,MAAO9D,KAAU+D,aAGnBnF,GAAKoF,SAAW,WACdnE,EAAMoE,OACN,OAAOjE,KAAUiE,QAGnBrF,GAAKsF,QAAU,WACb,MAAOrE,GAAMsE,MAGf,SAASZ,GAAqBrD,GAC5B,IAAKmD,EAAkB,CACrB,KAAM,IAAI/D,OAAM,yDAElB,MAAOU,GAAQO,GAAQa,KAAMxC,EAAK6E,YAAcvD,OAG/CkE,SAAS,EAAEC,YAAY,EAAEnB,UAAU,EAAEC,UAAU,IAAImB,GAAG,SAASlF,EAAQf,EAAOD,GACjFC,EAAOD,QAAU0B,CAEjB,SAASA,MAETA,EAAMkB,UAAUuD,WAAa,SAAU3D,GACrCT,KAAKG,OAAOkE,YAAc5D,EAAO6D,aACjC,OAAOtE,MAGTL,GAAMkB,UAAU0D,YAAc,SAAU7D,GACtCV,KAAKG,OAAOqE,aAAe9D,CAC3B,OAAOV,MAGTL,GAAMkB,UAAU4D,SAAW,SAAUtD,GACnCnB,KAAKG,OAAOuE,UAAYvD,CACxB,OAAOnB,MAGTL,GAAMkB,UAAU8D,YAAc,SAAUC,GACtC5E,KAAKG,OAAOwE,YAAcC,CAC1B,OAAO5E,MAGTL,GAAMkB,UAAUgE,MAChBlF,EAAMkB,UAAUiE,QAAU,SAAUhF,EAAKqB,EAAMT,GAC7CV,KAAKG,OAAO0E,MAAQ/E,CACpB,IAAIqB,EAAM,CACRnB,KAAKG,OAAOuE,UAAYvD,EAE1B,GAAIT,EAAS,CACXV,KAAKG,OAAOqE,aAAe9D,EAE7B,MAAOV,YAGH+E,GAAG,SAAS9F,EAAQf,EAAOD,GACjC,GAAIwF,GAAgBN,UAAUM,aAC9B,IAAIuB,GAAkB,IACtB,IAAIC,GAAwB,IAE5B/G,GAAOD,QAAUiH,CAEjB,SAASA,GAAenF,GACtB,IAAKiF,EAAiB,CACpBA,EAAkB,GAAIG,GAAQpF,GAEhC,MAAOiF,GAGT,QAASG,GAAQpF,GACfC,KAAKH,QAAUuF,EAAiBrF,GAGlCoF,EAAQtE,UAAU4B,OAAS,SAAUxC,EAAIE,GACvC,MAAOkF,GAAkB/F,KAAKU,MAAQsF,MAAO,cAAerF,GAAIA,EAAIE,OAAQA,IAG9EgF,GAAQtE,UAAU0E,OAAS,SAAUtF,GACnC,MAAOoF,GAAkB/F,KAAKU,MAAQsF,MAAO,cAAerF,GAAIA,IAGlEkF,GAAQtE,UAAUiD,MAAQ,SAAU7D,GAClC,MAAOoF,GAAkB/F,KAAKU,MAAQsF,MAAO,eAG/CH,GAAQtE,UAAU+C,WAAa,WAC7B,GAAIqB,EAAuB,CACzB,MAAOA,GAAsBrB,iBACxB,CACL,MAAO4B,SAAQC,QAAQ,OAI3B,SAASJ,GAAkBK,GACzB,MAAO,IAAIF,SAAQ,SAAUC,EAASE,GACpC3F,KAAKH,UAAU+F,KAAK,SAAUC,GAC5B,GAAIC,GAASC,EAAuBF,EACpCC,GAAOE,YAAYN,EACnBD,GAAQK,KACPpD,MAAMiD,IACTM,KAAKjG,OAGT,QAAS+F,GAAuBF,GAC9BZ,EAAwBY,CACxB,IAAIA,EAAaK,WAAY,CAC3B,MAAOL,GAAaK,eACf,CACL,MAAOL,GAAaM,QAIxB,QAASf,GAAiBrF,GACxB,MAAO,YACL,GAAIkF,EAAuB,CACzB,MAAOO,SAAQC,QAAQR,OAClB,CACL,MAAOxB,GAAc2C,SAASrG,EAAQkB,MAAQoF,MAAOC,EAAevG,OAK1E,QAASuG,GAAevG,GACtB,GAAIkB,GAAOlB,EAAQkB,IACnB,KAAM,iBAAiBsF,KAAKtF,GAAQ,CAClCA,EAAOV,SAASiG,OAASvF,EAE3B,MAAO,IAAIwF,KAAIxF,GAAMyF,SAASC,MAAM,KAAKC,MAAM,GAAI,GAAGC,KAAK,KAAO,UAG9DC,GAAG,SAAS7H,EAAQf,EAAOD,GACjC,GAAI8I,KACJ,IAAIrH,GAAQzB,CAEZyB,GAAM+C,OAAS,SAAUiD,GACvBqB,EAAIC,KAAKtB,GAGXhG,GAAM6F,OAAS,SAAUtF,GACvB,GAAIgH,GAAOvH,EAAMsB,IAAIf,EACrB,IAAIgH,EAAMF,EAAIG,OAAOH,EAAII,QAAQF,GAAO,GAG1CvH,GAAMsB,IAAM,SAAUf,GACpB,GAAIf,GAAGG,EAAG+H,QAAkBnH,KAAO,QACnC,KAAKf,EAAI,EAAGG,EAAI0H,EAAIxH,OAAQL,EAAIG,EAAGH,GAAK,EAAG,CACzC,GAAKkI,GAAYL,EAAI7H,GAAGe,KAAOA,GAAO8G,EAAI7H,KAAOe,EAAI,CACnD,MAAO8G,GAAI7H,IAGf,MAAO,MAGTQ,GAAMsE,IAAM,WACV,MAAO+C,GAAIM,IAAI,SAAUC,GACvB,OAASrH,GAAIqH,EAAKrH,GAAIE,OAAQmH,EAAKnH,UAIvCT,GAAMoE,MAAQ,WACZiD,EAAIG,OAAO,SAGPK,GAAG,SAAStI,EAAQf,EAAOD,GACjCA,EAAQmC,MAAQ,SAAUoH,EAAQC,GAChC,GAAIA,GAAUC,MAAM7G,UAAU+F,MAAMtH,KAAKqI,WAAWf,MAAM,EAC1Da,GAAQG,QAAQ,SAAUpB,GACxB,IAAK,GAAIqB,KAAQrB,GAAQ,CACvBgB,EAAOK,GAAQrB,EAAOqB,KAG1B,OAAOL,GAGTvJ,GAAQiC,KAAO,WACb,GAAIA,GAAO,GAAIhB,EAAG4I,CAClB,KAAK5I,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACvB4I,EAASC,KAAKD,SAAW,GAAK,CAC9B,IAAI5I,IAAM,GAAKA,IAAM,IAAMA,IAAM,IAAMA,IAAM,GAAIgB,GAAQ,GACzDA,KAAShB,IAAM,GAAK,EAAKA,IAAM,GAAM4I,EAAS,EAAI,EAAKA,GAASE,SAAS,IAE3E,MAAO9H,cAGE,IAAI"}