{"version":3,"sources":["bock.js"],"names":["e","exports","module","define","amd","f","window","global","self","bock","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_","store","Proxy","Bock","service","url","options","this","id","uuid","config","merge","defaults","normalizeURL","location","href","method","headers","crendetials","persist","prototype","Object","create","get","path","post","body","put","delete","patch","head","params","auth","username","password","times","replyHeaders","replyWithHeaders","responseHeaders","replyBody","replyWithBody","responseBody","reply","replyWith","responseCode","forward","append","catch","onFailure","replace","ex","./proxy","./store","./utils",2,"hasServiceWorker","navigator","resolveServiceWorker","VERSION","workerPath","isControllable","isEnabled","serviceWorker","controller","stop","unregister","cleanAll","flush","mocks","all","./bock","./service",3,"withMethod","proxyMethod","toUpperCase","withHeaders","proxyHeaders","withBody","proxyBody","credentials","type","proxy","proxyTo",4,"serviceInstance","serviceWorkerInstance","serviceFactory","Service","getServiceWorker","sendWorkerMessage","topic","remove","Promise","resolve","data","reject","then","registration","client","getServiceWorkerClient","postMessage","bind","installing","active","register","scope","getScriptScope","test","origin","URL","pathname","split","slice","join",5,"buf","push","item","splice","indexOf","isString","map","mock",6,"target","origins","Array","arguments","forEach","prop","random","Math","toString"],"mappings":"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"}