{"version":3,"sources":["bock.js"],"names":["e","exports","module","define","amd","f","window","global","self","bock","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_","store","Proxy","Bock","service","url","options","this","id","uuid","config","merge","defaults","normalizeURL","location","href","method","headers","crendetials","persist","prototype","Object","create","get","path","post","body","put","delete","patch","head","params","auth","username","password","times","withBody","replyHeaders","replyWithHeaders","responseHeaders","replyBody","replyWithBody","responseBody","reply","replyWith","responseCode","forward","add","replace","./proxy","./store","./utils",2,"hasServiceWorker","navigator","resolveServiceWorker","workerPath","VERSION","isControllable","serviceWorker","controller","stop","./bock","./service",3,"withMethod","proxyMethod","toUpperCase","withHeaders","proxyHeaders","proxyBody","credentials","type","proxy","proxyTo",4,"serviceInstance","serviceWorkerInstance","serviceFactory","Service","getServiceWorker","sendWorkerMessage","topic","remove","flush","close","promise","Promise","resolve","unregister","data","reject","then","registration","client","getServiceWorkerClient","postMessage","catch","bind","installing","active","register","scope","getScriptScope","test","origin","URL","pathname","split","slice","join",5,"buf","append","push","item","splice","indexOf","all",6,"target","origins","Array","arguments","forEach","prop","random","Math","toString"],"mappings":"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"}