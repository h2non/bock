/*! bock - v0.1.0 - MIT License - https://github.com/h2non/bock */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.bock=t()}}(function(){var t,o,e;return function r(t,o,e){function n(s,p){if(!o[s]){if(!t[s]){var c=typeof require=="function"&&require;if(!p&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=o[s]={exports:{}};t[s][0].call(f.exports,function(o){var e=t[s][1][o];return n(e?e:o)},f,f.exports,r,t,o,e)}return o[s].exports}var i=typeof require=="function"&&require;for(var s=0;s<e.length;s++)n(e[s]);return n}({1:[function(t,o,e){var r=t("./utils");o.exports=n;function n(t,o,e){this.id=r.uuid();this.matched=false;this.service=t;this.config=r.merge({url:i(o)||location.href,method:"GET",times:1},e)}n.prototype.get=function(t){this.config.method="GET";this.config.url+=t;return this};n.prototype.post=function(t,o){this.config.method="POST";this.config.url+=t;return this};n.prototype.put=function(t,o){this.config.method="PUT";this.config.url+=t;return this};n.prototype.delete=function(t,o){this.config.method="DELETE";this.config.url+=t;return this};n.prototype.patch=function(t,o){this.config.method="PATCH";this.config.url+=t;return this};n.prototype.head=function(t,o){this.config.method="HEAD";this.config.url+=t;return this};n.prototype.headers=function(t){this.config.params=t;return this};n.prototype.params=function(t){this.config.params=t;return this};n.prototype.auth=function(t,o){this.config.username=t;this.config.password=o;return this};n.prototype.times=function(t){this.config.times=t;return this};n.prototype.persist=function(){this.config.persist=true;return this};n.prototype.body=n.prototype.withBody=function(t){this.config.body=t};n.prototype.replyHeaders=n.prototype.respondHeaders=n.prototype.respondWithHeaders=function(t){this.config.responseHeaders=t;return this};n.prototype.replyBody=n.prototype.respondBody=n.prototype.respondWithBody=function(t){this.config.responseBody=t;return this};n.prototype.reply=n.prototype.respond=n.prototype.respondWith=function(t,o,e){this.config.responseCode=t==null?200:t;if(o){this.config.responseBody=o}if(e){this.config.responseHeaders=e}this.expect();return this};n.prototype.proxy=n.prototype.proxyTo=function(t,o,e){this.config.proxy=t;if(o){this.config.proxyBody=o}if(e){this.config.proxyHeaders=e}this.expect();return this};n.prototype.proxyHeaders=function(t){this.config.proxyHeaders=t;return this};n.prototype.proxyBody=function(t){this.config.proxyBody=t;return this};n.prototype.matches=function(){return this.matched};n.prototype.expect=function(){this.service.add(this.id,this.config).then(function(t){console.log("Success",t)},function(t){console.log("Error:",t)});return this};function i(t){return t.replace(/\/\/+/g,"/")}},{"./utils":4}],2:[function(t,o,e){var r=t("./utils");var n=t("./bock");var i=t("./service");var s="serviceWorker"in navigator;o.exports=p;function p(t,o){var e=c(o);return new n(e,t,o)}function c(t){if(!s){throw new Error("Service Worker is not supported in the current browser")}return i(r.merge({path:p.workerPath},t))}p.VERSION="0.1.0";p.workerPath="/bock.worker.js";p.Bock=n},{"./bock":1,"./service":3,"./utils":4}],3:[function(t,o,e){var r=navigator.serviceWorker;var n=null;var i=null;o.exports=function(t){if(!n){n=new s(t)}return n};function s(t){this.service=p(t)}s.prototype.add=function(t,o){return new Promise(function(e,r){this.service().then(function(e){i=e;if(e.installing){e.installing.postMessage({topic:"bock.add",id:t,config:o})}else{e.active.postMessage({topic:"bock.add",id:t,config:o})}}).catch(r)}.bind(this))};s.prototype.close=function(){var t=Promise.resolve(null);if(i){t=i.unregister()}return t};function p(t){return function(){if(i){return Promise.resolve(i)}else{return r.register(t.path,{scope:c(t)})}}}function c(t){var o=t.path;if(!/^http[s]?\/\//i.test(o)){o=location.origin+o}return new URL(o).pathname.split("/").slice(0,-1).join("/")+"/"}},{}],4:[function(t,o,e){e.merge=function(t,o){for(var e in o){t[e]=o[e]}return t};e.uuid=function(){var t="",o,e;for(o=0;o<32;o++){e=Math.random()*16|0;if(o===8||o===12||o===16||o===20)t+="-";t+=(o===12?4:o===16?e&3|8:e).toString(16)}return t}},{}]},{},[2])(2)});
//# sourceMappingURL=http://cdn.rawgit.com/h2non/bock/0.1.0/bock.min.js.map